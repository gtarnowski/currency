!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("date-fns/add_days"),require("date-fns/is_before"),require("date-fns/is_today"),require("date-fns/start_of_day"),require("date-fns/difference_in_calendar_months"),require("preact")):"function"==typeof define&&define.amd?define(["date-fns/add_days","date-fns/is_before","date-fns/is_today","date-fns/start_of_day","date-fns/difference_in_calendar_months","preact"],t):e.Dayzed=t(e.dateFns.addDays,e.dateFns.isBefore,e.dateFns.isToday,e.dateFns.startOfDay,e.dateFns.differenceInCalendarMonths,e.preact)}(this,function(e,t,a,n,r,o){"use strict";function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){for(var a=arguments.length,n=Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];return t.some(function(t){return t&&t.apply(void 0,[e].concat(n)),e.defaultPrevented})}}function f(e,t){throw new Error('The property "'+t+'" is required in "'+e+'"')}function i(){}function d(e){for(var a=e.date,r=e.selected,o=e.monthsToDisplay,s=e.offset,f=e.minDate,i=e.maxDate,d=e.firstDayOfWeek,u=e.showOutsideDays,c=[],h=function(e,a,r){var o=n(e);if(a){var s=n(a);t(o,s)&&(o=s)}if(r){var f=n(r);t(f,o)&&(o=f)}return o}(a,f,i),p=0;p<o;p++){var y=l({month:h.getMonth()+p+s,year:h.getFullYear(),selectedDates:r,minDate:f,maxDate:i,firstDayOfWeek:d,showOutsideDays:u});c.push(y)}return c}function l(t){var n=t.month,r=t.year,o=t.selectedDates,s=t.minDate,f=t.maxDate,i=t.firstDayOfWeek,d=t.showOutsideDays,l=function(e,t){var a=new Date(t,e,1);return e=a.getMonth(),t=a.getFullYear(),{daysInMonth:32-new Date(t,e,32).getDate(),month:e,year:t}}(n,r),h=l.daysInMonth;n=l.month,r=l.year;for(var p=[],y=1;y<=h;y++){var D=new Date(r,n,y),O={date:D,selected:u(o,D),selectable:c(s,f,D),today:a(D),prevMonth:!1,nextMonth:!1};p.push(O)}var v=new Date(r,n,1),m=new Date(r,n,h),g=function(t){var a=t.firstDayOfMonth,n=t.minDate,r=t.maxDate,o=t.selectedDates,s=t.firstDayOfWeek,f=t.showOutsideDays,i=[],d=(a.getDay()+7-s)%7;if(f)for(var l=e(a,-1),h=l.getDate(),p=l.getMonth(),y=l.getFullYear(),D=0;D<d;){var O=new Date(y,p,h-D),v={date:O,selected:u(o,O),selectable:c(n,r,O),today:!1,prevMonth:!0,nextMonth:!1};i.unshift(v),D++}else for(;d>0;)i.unshift(""),d--;return i}({firstDayOfMonth:v,minDate:s,maxDate:f,selectedDates:o,firstDayOfWeek:i,showOutsideDays:d}),w=function(t){var a=t.lastDayOfMonth,n=t.minDate,r=t.maxDate,o=t.selectedDates,s=t.firstDayOfWeek,f=t.showOutsideDays,i=[],d=(a.getDay()+7-s)%7;if(f)for(var l=e(a,1),h=l.getMonth(),p=l.getFullYear(),y=0;y<6-d;){var D=new Date(p,h,1+y),O={date:D,selected:u(o,D),selectable:c(n,r,D),today:!1,prevMonth:!1,nextMonth:!0};i.push(O),y++}else for(;d<6;)i.push(""),d++;return i}({lastDayOfMonth:m,minDate:s,maxDate:f,selectedDates:o,firstDayOfWeek:i,showOutsideDays:d});return p.unshift.apply(p,g),p.push.apply(p,w),{firstDayOfMonth:v,lastDayOfMonth:m,month:n,year:r,weeks:function(e){for(var t=Math.ceil(e.length/7),a=[],n=0;n<t;n++){a[n]=[];for(var r=0;r<7;r++)a[n].push(e[7*n+r])}return a}(p)}}function u(e,t){return(e=Array.isArray(e)?e:[e]).some(function(e){return e instanceof Date&&n(e).getTime()===n(t).getTime()})}function c(e,a,n){return!(e&&t(n,e)||a&&t(a,n))}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t,a=a&&a.hasOwnProperty("default")?a.default:a,n=n&&n.hasOwnProperty("default")?n.default:n,r=r&&r.hasOwnProperty("default")?r.default:r,o=o&&o.hasOwnProperty("default")?o.default:o;var h=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},y=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a},D=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},O=function(a){function n(o){h(this,n);var i=D(this,a.call(this,o));return i.state={offset:0},i.getBackProps=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.onClick,o=a.offset,d=void 0===o?1:o,l=a.calendars,u=void 0===l?f("getBackProps","calendars"):l,c=y(a,["onClick","offset","calendars"]),h=i.props.minDate,D=i.getOffset();return p({onClick:s(n,function(){i.onOffsetChanged(D-function(e){var t=e.calendars,a=e.offset,n=e.minDate;if(a>1&&n){var o=t[0].firstDayOfMonth,s=r(o,n);s<a&&(a=s)}return a}({calendars:u,offset:d,minDate:h}))}),disabled:function(a){var n=a.calendars,r=a.minDate;if(!r)return!1;var o=n[0].firstDayOfMonth,s=e(o,-1);return!!t(s,r)}({calendars:u,offset:d,minDate:h}),"aria-label":"Go back "+d+" month"+(1===d?"":"s")},c)},i.getForwardProps=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.onClick,o=a.offset,d=void 0===o?1:o,l=a.calendars,u=void 0===l?f("getForwardProps","calendars"):l,c=y(a,["onClick","offset","calendars"]),h=i.props.maxDate,D=i.getOffset();return p({onClick:s(n,function(){i.onOffsetChanged(D+function(e){var t=e.calendars,a=e.offset,n=e.maxDate;if(a>1&&n){var o=t[t.length-1].lastDayOfMonth,s=r(n,o);s<a&&(a=s)}return a}({calendars:u,offset:d,maxDate:h}))}),disabled:function(a){var n=a.calendars,r=a.maxDate;if(!r)return!1;var o=n[n.length-1].lastDayOfMonth,s=e(o,1);return!!t(r,s)}({calendars:u,offset:d,maxDate:h}),"aria-label":"Go forward "+d+" month"+(1===d?"":"s")},c)},i.getDateProps=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClick,a=e.dateObj,n=void 0===a?f("getDateProps","dateObj"):a,r=y(e,["onClick","dateObj"]);return p({onClick:s(t,function(){i.props.onDateSelected(n)}),disabled:!n.selectable,"aria-label":n.date.toDateString(),"aria-pressed":n.selected,role:"button"},r)},i.getOffset=function(){return i.isOffsetControlled()?i.props.offset:i.state.offset},i.isOffsetControlled=function(){return void 0!==i.props.offset},i.onOffsetChanged=function(e){i.isOffsetControlled()?i.props.onOffsetChanged(e):i.setState({offset:e},function(){i.props.onOffsetChanged(e)})},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a),n.prototype.render=function(){var e,t=this.props,a=t.date,n=t.selected,r=t.monthsToDisplay,o=t.minDate,s=t.maxDate,f=t.firstDayOfWeek,l=t.fillAdjacentMonths,u=t.showOutsideDays,c=d({date:a,selected:n,monthsToDisplay:r,minDate:o,maxDate:s,offset:this.getOffset(),firstDayOfWeek:f,showOutsideDays:u||l});return(e=this.props.render||this.props.children,(e=Array.isArray(e)?e[0]:e)||i)({calendars:c,getDateProps:this.getDateProps,getBackProps:this.getBackProps,getForwardProps:this.getForwardProps})},n}(o.Component);return O.defaultProps={date:new Date,monthsToDisplay:1,onOffsetChanged:function(){},firstDayOfWeek:0,showOutsideDays:!1},O.default=O,O});
//# sourceMappingURL=dayzed.umd.min.js.map
